{"ast":null,"code":"var _jsxFileName = \"/Users/Dami/Desktop/Projects/MARINA/Dashboard/marina.dash/src/pages/app/calender/Dashboard.jsx\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from \"react\";\n// import { Calendar, momentLocalizer } from \"react-big-calendar\";\n// import \"react-big-calendar/lib/css/react-big-calendar.css\";\n// import \"react-big-calendar/lib/sass/styles.scss\";\n// import moment from \"moment\";\n\nimport { formatDate, getFirstAndLastDateOfMonth } from \"../../../utils\";\nimport Filter from \"../../../components/Filter\";\nimport useBookings from \"../../../hooks/api/useBookings\";\nimport { getAllDaysBetweenDates } from \"../../../utils/functions\";\nimport useApartments from \"../../../hooks/api/useApartments\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function Dashboard() {\n  _s();\n  const [{\n    from,\n    to\n  }, setFilterValues] = useState({\n    from: getFirstAndLastDateOfMonth().firstDay,\n    to: getFirstAndLastDateOfMonth().lastDay\n  });\n  const {\n    getBookings,\n    bookings\n  } = useBookings();\n  const {\n    getApartments,\n    apartments\n  } = useApartments();\n  useEffect(() => {\n    getBookings(from, to);\n  }, []);\n  useEffect(() => {\n    getApartments();\n  }, [bookings]);\n  function getColor(apartmentId, date) {\n    const bookingsForApartment = bookings.filter(booking => booking.apartment._id === apartmentId);\n    for (const booking of bookingsForApartment) {\n      const checkInDate = new Date(booking.from);\n      const checkOutDate = new Date(booking.to);\n      checkInDate.setHours(12, 0, 0, 0);\n      checkOutDate.setHours(12, 0, 0, 0);\n      if (date >= checkInDate && date < checkOutDate) {\n        return \"#2196f3\";\n      }\n    }\n    return \"#f44336\";\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(Filter, {\n      setValues: setFilterValues,\n      handleChange: getBookings\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"boxes flex\",\n      children: getAllDaysBetweenDates(from, to).map((d, idx) => /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"box\",\n        children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n          style: {\n            padding: 10\n          },\n          children: formatDate(d)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 55,\n          columnNumber: 13\n        }, this), apartments.map(apt => /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            background: getColor(apt._id, d),\n            color: \"white\"\n          },\n          className: \"apt\",\n          children: apt.name\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 15\n        }, this))]\n      }, idx, true, {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 11\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 50,\n    columnNumber: 5\n  }, this);\n}\n_s(Dashboard, \"CFc+kbxUDoHyh/DjWgbl7DYzDyw=\", false, function () {\n  return [useBookings, useApartments];\n});\n_c = Dashboard;\nvar _c;\n$RefreshReg$(_c, \"Dashboard\");","map":{"version":3,"names":["React","useEffect","useState","formatDate","getFirstAndLastDateOfMonth","Filter","useBookings","getAllDaysBetweenDates","useApartments","jsxDEV","_jsxDEV","Dashboard","_s","from","to","setFilterValues","firstDay","lastDay","getBookings","bookings","getApartments","apartments","getColor","apartmentId","date","bookingsForApartment","filter","booking","apartment","_id","checkInDate","Date","checkOutDate","setHours","children","setValues","handleChange","fileName","_jsxFileName","lineNumber","columnNumber","className","map","d","idx","style","padding","apt","background","color","name","_c","$RefreshReg$"],"sources":["/Users/Dami/Desktop/Projects/MARINA/Dashboard/marina.dash/src/pages/app/calender/Dashboard.jsx"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\n// import { Calendar, momentLocalizer } from \"react-big-calendar\";\n// import \"react-big-calendar/lib/css/react-big-calendar.css\";\n// import \"react-big-calendar/lib/sass/styles.scss\";\n// import moment from \"moment\";\n\nimport { formatDate, getFirstAndLastDateOfMonth } from \"../../../utils\";\nimport Filter from \"../../../components/Filter\";\nimport useBookings from \"../../../hooks/api/useBookings\";\nimport { getAllDaysBetweenDates } from \"../../../utils/functions\";\nimport useApartments from \"../../../hooks/api/useApartments\";\n\nexport default function Dashboard() {\n  const [{ from, to }, setFilterValues] = useState({\n    from: getFirstAndLastDateOfMonth().firstDay,\n    to: getFirstAndLastDateOfMonth().lastDay,\n  });\n  const { getBookings, bookings } = useBookings();\n  const { getApartments, apartments } = useApartments();\n\n  useEffect(() => {\n    getBookings(from, to);\n  }, []);\n\n  useEffect(() => {\n    getApartments();\n  }, [bookings]);\n\n  function getColor(apartmentId, date) {\n    const bookingsForApartment = bookings.filter(\n      (booking) => booking.apartment._id === apartmentId\n    );\n\n    for (const booking of bookingsForApartment) {\n      const checkInDate = new Date(booking.from);\n      const checkOutDate = new Date(booking.to);\n\n      checkInDate.setHours(12, 0, 0, 0);\n      checkOutDate.setHours(12, 0, 0, 0);\n\n      if (date >= checkInDate && date < checkOutDate) {\n        return \"#2196f3\";\n      }\n    }\n\n    return \"#f44336\";\n  }\n\n  return (\n    <div>\n      <Filter setValues={setFilterValues} handleChange={getBookings} />\n      <div className=\"boxes flex\">\n        {getAllDaysBetweenDates(from, to).map((d, idx) => (\n          <div className=\"box\" key={idx}>\n            <h4 style={{ padding: 10 }}>{formatDate(d)}</h4>\n            {apartments.map((apt) => (\n              <div\n                style={{\n                  background: getColor(apt._id, d),\n                  color: \"white\",\n                }}\n                className=\"apt\"\n              >\n                {apt.name}\n              </div>\n            ))}\n          </div>\n        ))}\n      </div>\n    </div>\n  );\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}